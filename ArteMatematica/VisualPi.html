<!doctype html>

<html>
<head>
<meta charset="utf-8"/>

<title>Forgotten Math</title>

<script src="https://d3js.org/d3.v4.min.js"></script>
<link rel="stylesheet" type="text/css"  href="../estilo_menu.css" />

<style>  
</style>

</head>


<body>


<div class="menu"></div>

<a href = "../index.html"> <p id="Logo"></p> </a>
<h1>Visualizando Números</h1>


<form>
    <input type="radio" name="choice" value="pi" id="choice-pi" onchange="Desenhar()" checked> 
    <label for="choice-pi">pi</label>
    <input type="radio" name="choice" value="e" id="choice-e"  onchange="Desenhar()">
    <label for="choice-e">e</label>
    <input type="radio" name="choice" value="phi" id="choice-phi"  onchange="Desenhar()">
    <label for="choice-phi">phi</label>
</form>




<p id = "svgCirculos"></p>

<br>
<hr>

<p>Veja também:</p>

<p><a href="https://asgunzi.neocities.org">Forgotten Math</a></p>


<p><a href = "https://ideiasesquecidas.com/"> Forgotten Lore - Ideias Técnicas com uma pitada de filosofia. </a></p>

<script src="../criaMenuL1.js"></script>
<script src = "../LogoMath.js">		</script>

<script>

    var svg = d3.select("#svgCirculos")
        .append("svg")
        .attr("width", 2000)
        .attr("height", 800);

   
	Desenhar();

	function Desenhar()
	{
	
	var i;
	var j;
	var delayInMilliseconds=0;
	var ncor;
	var arrRnd=[];
	var idxi=0;
	var idxj=0;
	
	var choicepi = document.getElementById("choice-pi");
	var choicee = document.getElementById("choice-e");
	var choicephi = document.getElementById("choice-phi");

	var npi = "3141592653589793238462643383279502884197169399375105820974944592307816406286208998628034825342117067982148086513282306647093844609550582231725359408128481117450284102701938521105559644622948954930381964428810975665933446128475648233786783165271201909145648566923460348610454326648213393607260249141273724587006606315588174881520920962829254091715364367892590360011330530548820466521384146951941511609433057270365759591953092186117381932611793105118548074462379962749567351885752724891227938183011949129833673362440656643086021394946395224737190702179860943702770539217176293176752384674818467669405132000568127145263560827785771342757789609173637178721468440901224953430146549585371050792279689258923542019956112129021960864034418159813629774771309960518707211349999998372978049951059731732816096318595024459455346908302642522308253344685035261931188171010003137838752886587533208381420617177669147303598253490428755468731159562863882353787593751957781857780532171226806613001927876611195909216420199";
	
	var ne  = "27182818284590452353602874713526624977572470936999595749669676277240766303535475945713821785251664274274663919320030599218174135966290435729003342952605956307381323286279434907632338298807531952510190115738341879307021540891499348841675092447614606680822648001684774118537423454424371075390777449920695517027618386062613313845830007520449338265602976067371132007093287091274437470472306969772093101416928368190255151086574637721112523897844250569536967707854499699679468644549059879316368892300987931277361782154249992295763514822082698951936680331825288693984964651058209392398294887933203625094431173012381970684161403970198376793206832823764648042953118023287825098194558153017567173613320698112509961818815930416903515988885193458072738667385894228792284998920868058257492796104841984443634632449684875602336248270419786232090021609902353043699418491463140934317381436405462531520961836908887070167683964243781405927145635490613031072085103837505101157477041718986106873969655212671546889570350354";
	
	var nphi = "16180339887498948482045868343656381177203091798057628621354486227052604628189024497072072041893911374847540880753868917521266338622235369317931800607667263544333890865959395829056383226613199282902678806752087668925017116962070322210432162695486262963136144381497587012203408058879544547492461856953648644492410443207713449470495658467885098743394422125448770664780915884607499887124007652170575179788341662562494075890697040002812104276217711177780531531714101170466659914669798731761356006708748071013179523689427521948435305678300228785699782977834784587822891109762500302696156170025046433824377648610283831268330372429267526311653392473167111211588186385133162038400522216579128667529465490681131715993432359734949850904094762132229810172610705961164562990981629055520852479035240602017279974717534277759277862561943208275051312181562855122248093947123414517022373580577278616008688382952304592647878017889921990270776903895321968198615143780314997411069260886742962267575605231727775203536139362";
	
	svg.selectAll("*").remove();
	
	var nf;
	
	if (choicepi.checked) 
	{
	nf = npi;
	}
	else if (choicee.checked) 
	{
	nf = ne;
	}
	else if (choicephi.checked) 
	{
	nf = nphi;
	};
	
	//Cria array e randomiza
	for (i=0; i< 1000; i++)
			arrRnd.push(nf.slice(i,i+1)	);
			
	for (j=0; j< 40; j++)
	{
	for (i=0; i< 25; i++)
	{
		idxi = i;
		idxj = j;
		ncor = arrRnd[i*40 + j];
	
	delayInMilliseconds +=2;
	//setTimeout(function (){elo(i)}, delayInMilliseconds,i);
	setTimeout(elo.bind(null,idxi,idxj,ncor), delayInMilliseconds,idxi,idxj,ncor);	  
	}	
	}
	
	
	//Desenha a legenda
	svg.append("text")
			.attr("x", 1600)
			.attr("y", 40)
			.text("Legenda")
			.attr("font-size",20)

	for ( i = 0; i<10; i++)
	{
	svg.append("rect")
		  .attr("x", 1600)
		  .attr("y", 60+ 30*i )
		  .attr("width", 30)
		  .attr("height", 30)
		  .attr("stroke", "black")
		  .attr("fill", function(d) {
          return d3.schemeCategory10[i];
        });
		
		svg.append("text")
			.attr("x", 1635)
			.attr("y", 85+ 30*i )
			.text(i)
			.attr("font-size",20)

	}
	
	}
	
	
	function elo(i,j,Ncor)
	{
		
	var x0;
	var y0;
	var R;
	var ang;
	var r;
		
	R =35;
	x0 = 0;
	y0= 0;
	
	r =35;
	
	
	svg.append("rect")
		  .attr("x", x0 + R*(j+1) )
		  .attr("y", y0+ R*(i+1) )
		  .attr("width", r)
		  .attr("height", r)
		  .attr("stroke", "white")
		  .attr("fill", function(d) {
          return d3.schemeCategory10[Ncor];
        });

	RegularPol(150,150, 50, 5);
	
//			svg.append("circle")
//		  .attr("cx", x0 + R*(i+1) )
	//	  .attr("cy", y0+ R*(j+1) )
	//	  .attr("r", r)
	//	  .attr("stroke", "black")
	//	  .attr("stroke-width", 1)
	//	  .attr("fill", function(d) {
     //     return d3.schemeCategory10[Ncor];
      //  });
 		  

 }


function RegularPol(x,y,R, n)
	{
		//Posicao x, y
		//Raio R
		//Número de pontos n
		var pontos;
		var i;
		var angulo;
		angulo=0;
		pontos="";
		for (i=0;i<n-1;i++)
		{		
			angulo = i*2*3.14159/n;
			pontos += (x + Math.sin(angulo)*R)+ ", " + (y+Math.cos(angulo)*R) + ", ";			 
		}
		//Ultimo ponto
		i = n-1;
		angulo = i*2*3.14159/n;		
		pontos += (x + Math.sin(angulo)*R)+ ", " + (y+Math.cos(angulo)*R);

		svgFrac.append("polygon")
		  .attr("points", pontos)		  
		  .attr("stroke", "black")
		  .attr("fill", "blue")		      
	}
		 
</script>
</body>
</html>